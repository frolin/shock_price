c
link.attribute(:href)
link
link = @page.find_elements(css: 'a.pagination-item').select { |el| el.text == next_page_number }.first
@page.find_elements(css: 'a.pagination-item').select { |el| el.text == next_page_number }.first
@page.find_elements(css: 'a.pagination-item')
c
cards.last
c
cards.first
c
cards.first
cards
c
category_id
sku
c
sku
c
product_data.delete('sku')
product_data.delete(:sku)
sku = product_data
sku = product_data.delete(:sku)
product_data.symbolize_keys!
sku = product_data.delete('sku')
sku = product_data.delete(:sku)
product_data
sku
c
products_data.count
products_data
c
next
@product.prices.count == 0
@product.prices.count
next
@product.prices.count
next
@product
next
product_data
next
c
@product
next
c
Wb::Discounts::Importer.run!(product_data: products_data.first)
products_data
c
product_data.class
product_data.count
product_data
product_data_json
product_data
Wb::Discounts::Importer.run!(product_data: product_data)
product_data.first
product_data
c
cards.last
exit
cards
c
e
c
@page.find_elements(css: ".product-card-list .product-card").count != 100
@page.find_elements(css: ".product-card-list .product-card").count <= 100
@page.find_elements(css: ".product-card-list .product-card").count
c
cards.count
cards
@page.find_elements(css: ".product-card-list .product-card").each_with_index do |card, idx|
            cards << data(card, idx + 1)
          end
@page.find_elements(css: ".product-card-list .product-card").count
@page.find_elements(css: ".product-card-list .product-card").count >= 100
@page.find_elements(css: ".product-card-list .product-card").count
c
exit
c
e
c
@page = Browser.new(category.url).run
@page
@page.find_elements(css: ".product-card.j-card-item")
@page.find_elements(css: ".product-card.j-card-item").count
c
exit
e
c
e
c
e
c
e
c
e
c
e
c
e
c
e
c
@page.execute_script("window.location.reload()")
e
c
